{% extends "base.html" %} {% block content %}
<div class="auth-wrapper">
  <div class="auth-card">
    <h1>Welcome Back</h1>
    <p>Sign in with your email to access your expenses.</p>
    <form action="{{ url_for('login') }}" method="POST">
      <div class="form-group">
        <label for="username">Username</label>
        <input type="text" id="username" name="username" placeholder="johndoe" required />
      </div>
      <div class="form-group">
        <label for="password">Password</label>
        <input type="password" id="password" name="password" placeholder="••••••••" required />
      </div>
      <button type="submit" class="btn-primary">Login</button>
    </form>
    <p style="margin-top: 1rem; text-align: center; color: var(--text-secondary);">
      Don't have an account? <a href="{{ url_for('register') }}" style="color: var(--brand-start);">Register</a>
    </p>

    <div style="border-top: 1px solid var(--border-color); margin: 2rem 0; position: relative; text-align: center;">
      <span
        style="background: var(--surface-card); padding: 0 10px; color: var(--text-secondary); position: relative; top: -10px;">OR</span>
    </div>

    <div style="text-align: center; margin-bottom: 1rem;">
      <h3>Forgot Password / Legacy Login</h3>
      <p style="font-size: 0.9rem; color: var(--text-secondary);">Use this if you don't have a username/password yet.
      </p>
    </div>

    <form action="{{ url_for('login_with_code') }}" method="POST">
      <div class="form-group">
        <label for="email_magic">Email Address</label>
        <input type="email" id="email_magic" name="email" placeholder="you@example.com" required />
      </div>
      <button type="submit" class="btn-secondary">Send Magic Link (Login Code)</button>
    </form>
  </div>
</div>
{% endblock %}